pipeline{
  agent any
  stages{
      stage("git checkout"){
	    steps{
		  git credentialsId: 'Javahome', url: 'https://github.com/anilkumardevoops/DevOps_Class.git'
		}
	  }
	  stage("Maven Installing"){
	    steps{
		  ansiblePlaybook credentialsId: 'private_key', disableHostKeyChecking: true, installation: 'ansible2', inventory: '/home/ec2-user/ansible-app/myinventory', playbook: '/home/ec2-user/ansible-app/maven.yml'
		}
	  }
	  stage("Tomcat Install"){
	    steps{
		  ansiblePlaybook credentialsId: 'private_key', disableHostKeyChecking: true, installation: 'ansible2', inventory: '/home/ec2-user/ansible-app/myinventory', playbook: '/home/ec2-user/ansible-app/tomcat.yml'
		}
	  }
	}
}
